{"version":3,"sources":["webpack:///./src/components/thumbnail.js","webpack:///./src/components/slide.js","webpack:///./src/components/scroll.js","webpack:///./src/components/preview.js","webpack:///./src/components/titles.js","webpack:///./src/components/folio.js","webpack:///./node_modules/d3-ease/src/cubic.js","webpack:///./src/pages/index.js"],"names":["Project","styled","Link","withConfig","displayName","componentId","Clip","animated","div","int","x","y","Thumbnail","_ref","slug","title","imageData","parallax","hovered","props","isSmall","setSmall","useState","window","innerWidth","useLayoutEffect","handleSmall","addEventListener","removeEventListener","hover","set","useSpring","val","config","mass","tension","friction","React","createElement","Object","assign","to","style","transform","xy","interpolate","range","output","s","opacity","isMobile","Image","loading","fluid","alt","backgroundColor","Div","moveX","rest","Slide","_ref2","children","spring","doesSkew","skew","slideX","slideY","passRef","ref","Scroll","scroll","useRef","axes","timeline","setTimeline","ready","setReady","setSpring","current","handleSize","elems","Array","from","childNodes","tl","anime","targets","easing","autoplay","forEach","e","i","duration","offsetLeft","offsetTop","add","useEffect","seek","top","render","immediate","onRest","undefined","Img","Prev","Date","Tag","Roman","View","intImg","intView","f","Preview","projects","hoverIn","hoverOut","setClip","map","p","key","date","tags","romanize","fontVariationSettings","letterSpacing","onMouseEnter","onMouseLeave","prompt","images","childImageSharp","Title","Mask","Wrap","Titles","h","href","Abs","intPrev","intTitle","Folio","setProps","factor","trans","length","absSkew","t","Math","abs","speed","Dummy","IndexPage","location","state","useStaticQuery","allProjectsJson","edges","node","setScroll","hash","setParallax","clip","trim","Mouse","linked","r","mask","Layout","Header","Bookmarks","id"],"mappings":"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","file":"component---src-pages-index-js-8247af5d428a04d9e036.js","sourcesContent":["import React, { useEffect, useLayoutEffect, useState } from \"react\"\r\nimport styled from \"styled-components\"\r\nimport Link from \"./link\"\r\nimport Image from \"gatsby-image\"\r\nimport { animated, useSpring } from \"react-spring\"\r\nimport {isMobile} from 'react-device-detect'\r\n\r\nconst Project = styled(Link)`\r\n  width: 100%;\r\n  pointer-events: auto;\r\n  overflow: hidden;\r\n  display: block;\r\n  position: relative;\r\n  &:not(:last-child) {\r\n    padding-bottom: 10vw;\r\n  }\r\n`\r\n\r\nconst Clip = styled(animated.div)`\r\n  position: relative;\r\n  display: block;\r\n  overflow: hidden;\r\n  width: calc(100vw - var(--gutter) * 2);\r\n  height: calc( (100vw - var(--gutter) * 2) * 9 / 16);\r\n  @media (max-width: 768px) {\r\n    //height: calc((100 * var(--vh)) - var(--nav-size) - 6vw - 10px - 35px);\r\n  }\r\n`\r\n\r\nconst int = (x, y) => `translate3d(${x * -0.03}px,${y * -0.03}px,0)`\r\n\r\nconst Thumbnail = ({ slug, title, imageData, parallax, hovered, ...props }) =>{\r\n\r\n  const [isSmall, setSmall] = useState(() => {\r\n    if (typeof window !== \"undefined\") {\r\n      return window.innerWidth <= 768;\r\n    }\r\n    return true;\r\n  });\r\n\r\n  useLayoutEffect( () => {\r\n    const handleSmall = () =>{\r\n      if(typeof window !== \"undefined\"){\r\n        setSmall(window.innerWidth <= 768)\r\n      }\r\n    }\r\n    window.addEventListener(\"resize\", handleSmall)\r\n    window.addEventListener(\"gestureend\", handleSmall)\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleSmall)\r\n      window.removeEventListener(\"gestureend\", handleSmall)\r\n    }\r\n  }, [])\r\n\r\n\r\n  const [hover, set] = useSpring(() => ({ val: 0, config: { mass: 1, tension: 280, friction: 200 } }))\r\n  \r\n  set({val: hovered === slug ? 1 : 0})\r\n  return (\r\n    <Project\r\n      to={`/${slug}`}\r\n      {...props}\r\n    >\r\n      <Clip style={{ transform: parallax.xy.interpolate(int) }}>\r\n        <animated.div\r\n          style={{\r\n            transform: hover.val.interpolate({\r\n              range: [0, 1],\r\n              output: [1.05, 1.01]\r\n            }).interpolate(s => `scale(${s})`),\r\n            opacity: hover.val.interpolate({\r\n              range: [0, 1],\r\n              output: isMobile || isSmall ? [1, 1] : [0.5, 1],\r\n            }),\r\n          }}\r\n        >\r\n          <Image loading='eager' fluid={imageData} alt={title} backgroundColor={true}/>\r\n        </animated.div>\r\n      </Clip>\r\n    </Project>\r\n  )}\r\n\r\nexport default Thumbnail\r\n","import React from \"react\"\r\nimport styled from \"styled-components\"\r\nimport { animated, interpolate } from 'react-spring'\r\n\r\n\r\n\r\nconst Div = styled(({moveX, ...rest}) => <animated.div {...rest} />)`\r\n  display: ${props => props.moveX ? \"inline-flex\" : \"flex\"};\r\n  flex-direction: ${props => props.moveX ? \"row\" : \"column\"};\r\n`\r\n\r\nconst Slide = ({ children, spring, moveX = false, doesSkew = false, style, ...props }) => {\r\n\r\n    const slideX = (transform, skew) => doesSkew ? `translateX(${transform}%) skew(${skew}deg, 0deg)` : `translateX(${transform}%) `\r\n    const slideY = (transform, skew) => doesSkew ? `translateY(${transform}%) skew(0deg, ${skew}deg)` : `translateY(${transform}%) `\r\n    \r\n    return (\r\n        <Div style={{...style, transform: interpolate([spring.transform, spring.skew], moveX ? slideX : slideY)}} moveX={moveX} {...props}>\r\n            {children}\r\n        </Div>\r\n    )\r\n}\r\n\r\nexport default Slide","import React, { useRef, useLayoutEffect, useState, useEffect } from \"react\"\r\nimport { useSpring, animated } from \"react-spring\"\r\nimport anime from \"animejs\"\r\nimport styled from \"styled-components\"\r\n\r\nconst Div = styled(({ moveX, passRef, ...rest }) =><animated.div ref={passRef} {...rest} />)`\r\n  display: ${props => props.moveX ? \"inline-flex\" : \"flex\"};\r\n  flex-direction: ${props => props.moveX ? \"row\" : \"column\"};\r\n`\r\n\r\nconst Scroll = ({ children, scroll, moveX = false, style, ...props }) => {\r\n  const ref = useRef(null)\r\n  const axes = useRef({ x: 0, y: 0 })\r\n  const [timeline, setTimeline] = useState()\r\n  const [ready, setReady] = useState(false)\r\n\r\n  const [spring, setSpring] = useSpring(() => ({\r\n    x: `translateX(${-axes.current.x}px) `,\r\n    y: `translateY(${-axes.current.y}px) `,\r\n  }))\r\n\r\n  useLayoutEffect(() => {\r\n    const handleSize = () => {\r\n      const elems = Array.from(ref.current.childNodes)\r\n  \r\n      const tl = anime.timeline({\r\n        targets: axes.current,\r\n        easing: \"easeInOutQuint\",\r\n        autoplay: false,\r\n      })\r\n  \r\n      elems.forEach((e, i) => {\r\n        const duration = i < 1 ? 0.001 : 1\r\n        const x = e.offsetLeft\r\n        const y = e.offsetTop\r\n        tl.add({\r\n          x: i < 1 ? [x, x] : x,\r\n          y: i < 1 ? [y, y] : y,\r\n          duration: duration,\r\n        })\r\n      })\r\n      setTimeline(tl)\r\n    }\r\n    \r\n    handleSize()\r\n    window.addEventListener(\"resize\", handleSize)\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleSize)\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (timeline) {\r\n      timeline.seek(timeline.duration * scroll.top)\r\n      if (!ready && scroll.render) {\r\n        setSpring({\r\n          x: `translateX(${-axes.current.x}px) `,\r\n          y: `translateY(${-axes.current.y}px) `,\r\n          immediate: true,\r\n          onRest: () => {\r\n            setSpring({ immediate: false, onRest: undefined })\r\n            setReady(true)\r\n          },\r\n        })\r\n      } else {\r\n        setSpring({\r\n          x: `translateX(${-axes.current.x}px) `,\r\n          y: `translateY(${-axes.current.y}px) `,\r\n        })\r\n      }\r\n    }\r\n  }, [scroll, timeline, setSpring, ready, setReady])\r\n\r\n\r\n  return (\r\n    <Div\r\n      moveX={moveX}\r\n      passRef={ref}\r\n      style={{ ...style, transform: moveX ? spring.x : spring.y }}\r\n      {...props}\r\n    >\r\n      {children}\r\n    </Div>\r\n  )\r\n}\r\n\r\nexport default Scroll\r\n","import React from \"react\"\r\nimport styled from \"styled-components\"\r\nimport Link from \"./link\"\r\nimport { animated } from \"react-spring\"\r\nimport Thumbnail from \"./thumbnail\"\r\nimport Slide from './slide'\r\nimport { romanize } from './utils'\r\nimport Scroll from './scroll'\r\n\r\nconst Img = styled(animated.div)`\r\n  position: relative;\r\n  overflow: hidden;\r\n`\r\n\r\nconst Prev = styled(animated.div)`\r\n  position: relative;\r\n  display: block;\r\n  width: calc(100vw - var(--gutter) * 2);\r\n  height: calc( (100vw - var(--gutter) * 2) * 9 / 16);\r\n  @media (max-width: 768px) {\r\n    height: calc((100 * var(--vh)) - var(--nav-size) - 6vw - 10px - 35px);\r\n  }\r\n`\r\nconst Date = styled.div`\r\n  position: absolute;\r\n  right: -30px;\r\n  width: 20px;\r\n  overflow: hidden;\r\n  bottom: 0;\r\n\r\n  p,\r\n  a {\r\n    display: block;\r\n    writing-mode: vertical-lr;\r\n    /* width: 20px; */\r\n    line-height: 20px;\r\n    font-size: 14px;\r\n    font-variation-settings: \"wght\" 350, \"wdth\" 85, \"slnt\" 0;\r\n    letter-spacing: 2px;\r\n    pointer-events: all;\r\n    margin: 0;\r\n    white-space: nowrap;\r\n    align-self: flex-end;\r\n    text-transform: capitalize;\r\n    text-decoration: none;\r\n    color: inherit;\r\n  }\r\n`\r\n\r\nconst Tag = styled(Date)`\r\n  top: 0;\r\n  bottom: unset;\r\n  p {\r\n    align-self: flex-start;\r\n  }\r\n`\r\nconst Roman = styled(Tag)`\r\n  @media (max-width: 768px) {\r\n    display: none;\r\n  }\r\n  right: unset;\r\n  left: -30px;\r\n  height: 22px;\r\n  width: auto;\r\n  p {\r\n    align-self: flex-end;\r\n    line-height: 22px;\r\n    font-size: 20px;\r\n    font-variation-settings: \"wght\" 1000, \"wdth\" 85, \"slnt\" 0;\r\n    writing-mode: unset;\r\n  }\r\n`\r\n\r\nconst View = styled(Date)`\r\n  left: -30px;\r\n  right: unset;\r\n  @media (max-width: 768px) {\r\n    display: none;\r\n  }\r\n  a {\r\n    font-variation-settings: unset;\r\n    letter-spacing: unset;\r\n    text-transform: uppercase;\r\n  }\r\n`\r\nconst intImg = (x, y) => `translate3d(${x * -0.005}px,${y * -0.005}px,0)`\r\nconst intView = f => `\"wght\" ${f}, \"wdth\" 85, \"slnt\" 0`\r\n\r\nconst Preview = ({ projects, spring, scroll, parallax, hoverIn, hoverOut, hover, hovered, setClip, ...props }) => (\r\n  <Prev {...props}>\r\n    <Date>\r\n      <Slide spring={spring} moveX=\"true\">\r\n        {projects.map((p, i) => (\r\n          <p key={`date${i}`}>{p.date}</p>\r\n        ))}\r\n      </Slide>\r\n    </Date>\r\n    <Tag>\r\n      <Slide spring={spring} moveX=\"true\">\r\n        {projects.map((p, i) => (\r\n          <p key={`tag${i}`}>{p.tags[0]}</p>\r\n        ))}\r\n      </Slide>\r\n    </Tag>\r\n    <Roman>\r\n      <Slide spring={spring}>\r\n        {projects.map((p, i) => (\r\n          <p key={`roman${i}`}>{romanize(i + 1)}</p>\r\n        ))}\r\n      </Slide>\r\n    </Roman>\r\n    <View>\r\n      <Slide\r\n        style={{\r\n          fontVariationSettings: hover\r\n            .interpolate({\r\n              range: [0, 1],\r\n              output: [350, 1000],\r\n            })\r\n            .interpolate(intView),\r\n          letterSpacing: hover\r\n            .interpolate({\r\n              range: [0, 1],\r\n              output: [2, 4],\r\n            })\r\n            .interpolate(f => `${f}px`),\r\n        }}\r\n        spring={spring}\r\n        moveX=\"true\"\r\n      >\r\n        {projects.map((p, i) => (\r\n          <Link\r\n            to={`/${p.slug}`}\r\n            key={`view${i}`}\r\n            onMouseEnter={() => hoverIn(p.slug)}\r\n            onMouseLeave={hoverOut}\r\n            setClip={setClip}\r\n          >\r\n            {p.prompt}\r\n          </Link>\r\n        ))}\r\n      </Slide>\r\n    </View>\r\n    <Img style={{ transform: parallax.xy.interpolate(intImg) }}>\r\n      <Scroll scroll={scroll}>\r\n        {projects.map((p, i) => {\r\n          const imageData = p.images[0].childImageSharp.fluid\r\n          return (\r\n            <Thumbnail\r\n              onMouseEnter={() => hoverIn(p.slug)}\r\n              onMouseLeave={hoverOut}\r\n              key={`prev${i}`}\r\n              slug={p.slug}\r\n              imageData={imageData}\r\n              parallax={parallax}\r\n              hovered={hovered}\r\n              setClip={setClip}\r\n            />\r\n          )\r\n        })}\r\n      </Scroll>\r\n    </Img>\r\n  </Prev>\r\n)\r\n\r\nexport default Preview\r\n","import React from \"react\"\r\nimport styled from \"styled-components\"\r\nimport Link from \"./link\"\r\nimport { animated } from \"react-spring\"\r\nimport Slide from \"./slide\"\r\n\r\n\r\nconst Title = styled(Slide)`\r\n  height: 1em;\r\n  a {\r\n    text-decoration: none;\r\n    white-space: nowrap;\r\n    text-transform: uppercase;\r\n    min-width: 80vw;\r\n    font-size: 6vw;\r\n    line-height: 1em;\r\n    padding-left: 3vw;\r\n    padding-bottom: 30px;\r\n    margin: 0px;\r\n    color: inherit;\r\n    pointer-events: all;\r\n    opacity: 0.2;\r\n    @media (max-width: 768px) {\r\n      margin-top: calc(var(--nav-size));\r\n    }\r\n    font-weight: bold;\r\n    -webkit-text-stroke: 3px rgba(255,255,255,0.4);\r\n    text-stroke: 3px rgba(255,255,255,0.4);\r\n    paint-order: stroke fill;\r\n  }\r\n`\r\n\r\nconst Mask = styled.div`\r\n  display: flex;\r\n  overflow: hidden;\r\n  position: absolute;\r\n  top: 0px;\r\n  height: calc(100 * var(--vh));\r\n  width: calc(80vw + 24px);\r\n  a {\r\n    /* mix-blend-mode: saturation; */\r\n    opacity: 1;\r\n  }\r\n`\r\nconst Wrap = styled(animated.div)`\r\n  align-self: flex-start;\r\n  /* justify-self: center; */\r\n  position: absolute;\r\n  display: inline-block;\r\n  padding-left: 30px;\r\n  z-index: 5;\r\n  \r\n  @media (max-width: 768px) {\r\n    position: relative;\r\n    margin-bottom: 20px;\r\n    margin-top: 15px;\r\n    \r\n  }\r\n`\r\n\r\nconst Titles = ({ projects, spring, hoverIn, hoverOut, hover, setClip, ...props }) => {\r\n  let style = {\r\n    fontVariationSettings: hover\r\n      .interpolate({\r\n        range: [0, 1],\r\n        output: [1200, 680],\r\n      })\r\n      .interpolate(h => `\"wght\" ${h}, \"wdth\" 85, \"slnt\" 0`),\r\n    letterSpacing: hover\r\n      .interpolate({\r\n        range: [0, 1],\r\n        output: [1, 0.7],\r\n      })\r\n      .interpolate(h => `${h}vw`),\r\n  }\r\n\r\n  return (\r\n    <Wrap {...props}>\r\n      <Title style={style} spring={spring} moveX=\"true\" doesSkew=\"true\">\r\n        {projects.map((p, i) => (\r\n          <a key={`hidden${i}`} href={`#${p.slug}`}>\r\n            {p.title}\r\n          </a>\r\n        ))}\r\n      </Title>\r\n      <Mask>\r\n        <Title style={style} spring={spring} moveX=\"true\" doesSkew=\"true\">\r\n          {projects.map((p, i) => (\r\n            <Link\r\n              to={`/${p.slug}`}\r\n              key={`title${i}`}\r\n              onMouseEnter={() => hoverIn(p.slug)}\r\n              onMouseLeave={hoverOut}\r\n              setClip={setClip}\r\n            >\r\n              {p.title}\r\n            </Link>\r\n          ))}\r\n        </Title>\r\n      </Mask>\r\n    </Wrap>\r\n  )\r\n}\r\n\r\nexport default Titles","import React, { useRef, useLayoutEffect, useState, useEffect } from \"react\"\r\nimport styled from \"styled-components\"\r\nimport Preview from \"./preview\"\r\nimport Titles from \"./titles\"\r\nimport { useSpring } from \"react-spring\"\r\nimport anime from \"animejs\"\r\nimport { easeCubicOut } from 'd3-ease'\r\n\r\nconst Abs = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  position: absolute;\r\n`\r\n\r\nconst Wrap = styled.div`\r\n  position: -webkit-sticky;\r\n  position: sticky;\r\n  display: flex;\r\n  flex-direction: column;\r\n  top: 0;\r\n  left: 0;\r\n  overflow: hidden;\r\n  align-items: center;\r\n  @media (min-width: 768px) {\r\n    justify-content: center;\r\n  }\r\n  height: calc(100 * var(--vh));\r\n  width: 100vw;\r\n  pointer-events: none;\r\n  z-index: 100;\r\n`\r\n\r\nconst intPrev = (x, y) => `translate3d(${x * 0.055}px,${y * 0.055}px,0)`\r\nconst intTitle = (x, y) => `translate3d(${x * 0.085}px,${y * 0.085}px,0)`\r\n\r\nconst Folio = ({ projects, scroll, parallax, setClip }) => {\r\n  const [hovered, set] = useState(null)\r\n  const [ready, setReady] = useState(false)\r\n\r\n  const [props, setProps] = useSpring(() => ({\r\n    factor: 0,\r\n    config: { mass: 20, tension: 300, friction: 140 },\r\n  }))\r\n\r\n  const axes = useRef({ transform: 0, skew: 0 })\r\n\r\n  const [timeline, setTimeline] = useState()\r\n\r\n  const [spring, setSpring] = useSpring(() => ({\r\n    transform: -axes.current.transform,\r\n    skew: axes.current.skew,\r\n  }))\r\n\r\n  useLayoutEffect(() => {\r\n    const tl = anime.timeline({\r\n      targets: axes.current,\r\n      easing: \"easeInOutQuint\",\r\n      autoplay: false,\r\n    })\r\n\r\n    projects.forEach((p, i) => {\r\n      const duration = i < 1 ? 0.001 : 1\r\n      const trans = (100 / projects.length) * i\r\n      tl.add({ transform: i < 1 ? [trans, trans] : trans, duration: duration })\r\n    })\r\n    setTimeline(tl)\r\n  }, [projects])\r\n\r\n  const hoverIn = slug => {\r\n    set(slug)\r\n    setProps({ factor: 1 })\r\n  }\r\n  const hoverOut = () => {\r\n    set(null)\r\n    setProps({ factor: 0 })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (timeline) {\r\n      timeline.seek(timeline.duration * scroll.top)\r\n      if (!ready && scroll.render) {\r\n        setSpring({\r\n          transform: -axes.current.transform,\r\n          immediate: true,\r\n          onRest: () => {\r\n            setSpring({ immediate: false, onRest: undefined })\r\n            setReady(true)\r\n          },\r\n        })\r\n      } else {\r\n        timeline.seek(timeline.duration * scroll.top)\r\n        let absSkew = easeCubicOut(Math.abs(scroll.speed)) * 50\r\n        let skew = scroll.speed > 0 ? absSkew : -absSkew\r\n        setSpring({\r\n          transform: -axes.current.transform,\r\n          skew: skew,\r\n        })\r\n      }\r\n    }\r\n  }, [scroll, timeline, setSpring, ready, setReady])\r\n\r\n  return (\r\n    <Abs>\r\n      <Wrap>\r\n        <Titles\r\n          hoverIn={hoverIn}\r\n          hoverOut={hoverOut}\r\n          style={{ transform: parallax.xy.interpolate(intTitle) }}\r\n          projects={projects}\r\n          spring={spring}\r\n          hover={props.factor}\r\n          setClip={setClip}\r\n        />\r\n        <Preview\r\n          hoverIn={hoverIn}\r\n          hoverOut={hoverOut}\r\n          style={{ transform: parallax.xy.interpolate(intPrev) }}\r\n          projects={projects}\r\n          spring={spring}\r\n          scroll={scroll}\r\n          hover={props.factor}\r\n          hovered={hovered}\r\n          parallax={parallax}\r\n          setClip={setClip}\r\n        />\r\n      </Wrap>\r\n    </Abs>\r\n  )\r\n}\r\n\r\nexport default Folio\r\n","export function cubicIn(t) {\n  return t * t * t;\n}\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}","import React, { useState} from \"react\"\r\nimport { graphql, useStaticQuery } from \"gatsby\"\r\nimport * as Mouse from '../components/mouse'\r\n\r\nimport Layout from \"../components/layout\"\r\nimport Folio from \"../components/folio\"\r\nimport Header from \"../components/header\"\r\nimport Bookmarks from \"../components/bookmarks\"\r\n\r\nimport styled from \"styled-components\"\r\nimport { useSpring } from \"react-spring\"\r\n\r\nconst Dummy = styled.div`\r\n  height:  calc(100 * var(--vh));\r\n  width: 100vw;\r\n`\r\n\r\nconst IndexPage = ({location : {state}, location}) => {\r\n  const data = useStaticQuery(graphql`\r\n    {\r\n      allProjectsJson {\r\n        edges {\r\n          node {\r\n            title\r\n            slug\r\n            date\r\n            tags\r\n            prompt\r\n            images {\r\n              childImageSharp {\r\n                fluid(maxWidth: 1920) {\r\n                  ...GatsbyImageSharpFluid_withWebp_noBase64\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  `)\r\n\r\n  const projects = data.allProjectsJson.edges.map(p => p.node)\r\n  const [scroll, setScroll] = useState({top: 0, speed: 0, render : location.hash ? false : true})\r\n  const [parallax, setParallax] = useSpring(() => ({\r\n    xy: [0, 0],\r\n    config: { mass: 10, tension: 550, friction: 140 },\r\n  }))\r\n  \r\n  const [clip, setClip] = useSpring( () => ({trim: Mouse.calc( state?.linked ? Mouse.pos.r : 0), mask: Mouse.calc(Mouse.pos.r)}))\r\n\r\n  return (\r\n      <Layout title=\"Alex Bannwarth - 3D Artist & Creative Director\" clip={clip} setClip={setClip} setScroll={setScroll} setParallax={setParallax}>\r\n        <Header setClip={setClip} to=\"/about\" top={projects[0].slug} parallax={parallax}>\r\n          <Bookmarks scroll={scroll} projects={projects} setClip={setClip}/>\r\n        </Header>\r\n        <Folio\r\n          scroll={scroll}\r\n          projects={projects}\r\n          parallax={parallax}\r\n          setClip={setClip}\r\n        />\r\n        {projects.map( p => {\r\n          return <Dummy key={p.slug} id={p.slug} />\r\n        })}\r\n      </Layout>\r\n  )\r\n}\r\n\r\nexport default IndexPage\r\n"],"sourceRoot":""}