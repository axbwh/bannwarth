{"version":3,"sources":["webpack:///./src/components/thumbnail.js","webpack:///./src/components/slide.js","webpack:///./src/components/scroll.js","webpack:///./src/components/preview.js","webpack:///./src/components/titles.js","webpack:///./src/components/folio.js","webpack:///./node_modules/d3-ease/src/cubic.js","webpack:///./src/pages/index.js"],"names":["Project","styled","Link","withConfig","displayName","componentId","Clip","animated","div","int","x","y","Thumbnail","_ref","slug","title","imageData","parallax","hovered","props","hover","set","useSpring","val","config","mass","tension","friction","React","createElement","Object","assign","to","style","transform","xy","interpolate","range","output","s","opacity","Image","loading","fluid","alt","backgroundColor","Div","moveX","rest","Slide","_ref2","children","spring","doesSkew","skew","slideX","slideY","passRef","ref","Scroll","scroll","useRef","axes","timeline","setTimeline","useState","ready","setReady","setSpring","current","useLayoutEffect","handleSize","elems","Array","from","childNodes","tl","anime","targets","easing","autoplay","forEach","e","i","duration","offsetLeft","offsetTop","add","window","addEventListener","removeEventListener","useEffect","seek","top","render","immediate","onRest","undefined","Img","Prev","Date","Tag","Roman","View","intImg","intView","f","Preview","projects","hoverIn","hoverOut","setClip","map","p","key","date","tags","romanize","fontVariationSettings","letterSpacing","onMouseEnter","onMouseLeave","prompt","images","childImageSharp","Title","Mask","Wrap","Titles","h","href","Abs","intPrev","intTitle","Folio","setProps","factor","trans","length","absSkew","t","Math","abs","speed","Dummy","IndexPage","location","state","useStaticQuery","allProjectsJson","edges","node","setScroll","hash","setParallax","clip","trim","Mouse","linked","r","mask","Layout","Header","Bookmarks","id"],"mappings":"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","file":"component---src-pages-index-js-cf5b036b35860c56dbed.js","sourcesContent":["import React from \"react\"\r\nimport styled from \"styled-components\"\r\nimport Link from \"./link\"\r\nimport Image from \"gatsby-image\"\r\nimport { animated, useSpring } from \"react-spring\"\r\n\r\nconst Project = styled(Link)`\r\n  width: 100%;\r\n  pointer-events: auto;\r\n  overflow: hidden;\r\n  display: block;\r\n  position: relative;\r\n  &:not(:last-child) {\r\n    padding-bottom: 10vw;\r\n  }\r\n`\r\n\r\nconst Clip = styled(animated.div)`\r\n  position: relative;\r\n  display: block;\r\n  overflow: hidden;\r\n  width: calc(100vw - var(--gutter) * 2);\r\n  height: calc( (100vw - var(--gutter) * 2) * 9 / 16);\r\n  @media (max-width: 768px) {\r\n    //height: calc((100 * var(--vh)) - var(--nav-size) - 6vw - 10px - 35px);\r\n  }\r\n`\r\n\r\nconst int = (x, y) => `translate3d(${x * -0.03}px,${y * -0.03}px,0)`\r\n\r\nconst Thumbnail = ({ slug, title, imageData, parallax, hovered, ...props }) =>{ \r\n  \r\n  const [hover, set] = useSpring(() => ({ val: 0, config: { mass: 1, tension: 280, friction: 200 } }))\r\n  \r\n  set({val: hovered === slug ? 1 : 0})\r\n  return (\r\n    <Project\r\n      to={`/${slug}`}\r\n      {...props}\r\n    >\r\n      <Clip style={{ transform: parallax.xy.interpolate(int) }}>\r\n        <animated.div\r\n          style={{\r\n            transform: hover.val.interpolate({\r\n              range: [0, 1],\r\n              output: [1.05, 1.01]\r\n            }).interpolate(s => `scale(${s})`),\r\n            opacity: hover.val.interpolate({\r\n              range: [0, 1],\r\n              output: [0.5, 0.9]\r\n            }),\r\n          }}\r\n        >\r\n          <Image loading='eager' fluid={imageData} alt={title} backgroundColor={true}/>\r\n        </animated.div>\r\n      </Clip>\r\n    </Project>\r\n  )}\r\n\r\nexport default Thumbnail\r\n","import React from \"react\"\r\nimport styled from \"styled-components\"\r\nimport { animated, interpolate } from 'react-spring'\r\n\r\n\r\n\r\nconst Div = styled(({moveX, ...rest}) => <animated.div {...rest} />)`\r\n  display: ${props => props.moveX ? \"inline-flex\" : \"flex\"};\r\n  flex-direction: ${props => props.moveX ? \"row\" : \"column\"};\r\n`\r\n\r\nconst Slide = ({ children, spring, moveX = false, doesSkew = false, style, ...props }) => {\r\n\r\n    const slideX = (transform, skew) => doesSkew ? `translateX(${transform}%) skew(${skew}deg, 0deg)` : `translateX(${transform}%) `\r\n    const slideY = (transform, skew) => doesSkew ? `translateY(${transform}%) skew(0deg, ${skew}deg)` : `translateY(${transform}%) `\r\n    \r\n    return (\r\n        <Div style={{...style, transform: interpolate([spring.transform, spring.skew], moveX ? slideX : slideY)}} moveX={moveX} {...props}>\r\n            {children}\r\n        </Div>\r\n    )\r\n}\r\n\r\nexport default Slide","import React, { useRef, useLayoutEffect, useState, useEffect } from \"react\"\r\nimport { useSpring, animated } from \"react-spring\"\r\nimport anime from \"animejs\"\r\nimport styled from \"styled-components\"\r\n\r\nconst Div = styled(({ moveX, passRef, ...rest }) =><animated.div ref={passRef} {...rest} />)`\r\n  display: ${props => props.moveX ? \"inline-flex\" : \"flex\"};\r\n  flex-direction: ${props => props.moveX ? \"row\" : \"column\"};\r\n`\r\n\r\nconst Scroll = ({ children, scroll, moveX = false, style, ...props }) => {\r\n  const ref = useRef(null)\r\n  const axes = useRef({ x: 0, y: 0 })\r\n  const [timeline, setTimeline] = useState()\r\n  const [ready, setReady] = useState(false)\r\n\r\n  const [spring, setSpring] = useSpring(() => ({\r\n    x: `translateX(${-axes.current.x}px) `,\r\n    y: `translateY(${-axes.current.y}px) `,\r\n  }))\r\n\r\n  useLayoutEffect(() => {\r\n    const handleSize = () => {\r\n      const elems = Array.from(ref.current.childNodes)\r\n  \r\n      const tl = anime.timeline({\r\n        targets: axes.current,\r\n        easing: \"easeInOutQuint\",\r\n        autoplay: false,\r\n      })\r\n  \r\n      elems.forEach((e, i) => {\r\n        const duration = i < 1 ? 0.001 : 1\r\n        const x = e.offsetLeft\r\n        const y = e.offsetTop\r\n        tl.add({\r\n          x: i < 1 ? [x, x] : x,\r\n          y: i < 1 ? [y, y] : y,\r\n          duration: duration,\r\n        })\r\n      })\r\n      setTimeline(tl)\r\n    }\r\n    \r\n    handleSize()\r\n    window.addEventListener(\"resize\", handleSize)\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleSize)\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (timeline) {\r\n      timeline.seek(timeline.duration * scroll.top)\r\n      if (!ready && scroll.render) {\r\n        setSpring({\r\n          x: `translateX(${-axes.current.x}px) `,\r\n          y: `translateY(${-axes.current.y}px) `,\r\n          immediate: true,\r\n          onRest: () => {\r\n            setSpring({ immediate: false, onRest: undefined })\r\n            setReady(true)\r\n          },\r\n        })\r\n      } else {\r\n        setSpring({\r\n          x: `translateX(${-axes.current.x}px) `,\r\n          y: `translateY(${-axes.current.y}px) `,\r\n        })\r\n      }\r\n    }\r\n  }, [scroll, timeline, setSpring, ready, setReady])\r\n\r\n\r\n  return (\r\n    <Div\r\n      moveX={moveX}\r\n      passRef={ref}\r\n      style={{ ...style, transform: moveX ? spring.x : spring.y }}\r\n      {...props}\r\n    >\r\n      {children}\r\n    </Div>\r\n  )\r\n}\r\n\r\nexport default Scroll\r\n","import React from \"react\"\r\nimport styled from \"styled-components\"\r\nimport Link from \"./link\"\r\nimport { animated } from \"react-spring\"\r\nimport Thumbnail from \"./thumbnail\"\r\nimport Slide from './slide'\r\nimport { romanize } from './utils'\r\nimport Scroll from './scroll'\r\n\r\nconst Img = styled(animated.div)`\r\n  position: relative;\r\n  overflow: hidden;\r\n`\r\n\r\nconst Prev = styled(animated.div)`\r\n  position: relative;\r\n  display: block;\r\n  width: calc(100vw - var(--gutter) * 2);\r\n  height: calc( (100vw - var(--gutter) * 2) * 9 / 16);\r\n  @media (max-width: 768px) {\r\n    height: calc((100 * var(--vh)) - var(--nav-size) - 6vw - 10px - 35px);\r\n  }\r\n`\r\nconst Date = styled.div`\r\n  position: absolute;\r\n  right: -30px;\r\n  width: 20px;\r\n  overflow: hidden;\r\n  bottom: 0;\r\n\r\n  p,\r\n  a {\r\n    display: block;\r\n    writing-mode: vertical-lr;\r\n    /* width: 20px; */\r\n    line-height: 20px;\r\n    font-size: 14px;\r\n    font-variation-settings: \"wght\" 350, \"wdth\" 85, \"slnt\" 0;\r\n    letter-spacing: 2px;\r\n    pointer-events: all;\r\n    margin: 0;\r\n    white-space: nowrap;\r\n    align-self: flex-end;\r\n    text-transform: capitalize;\r\n    text-decoration: none;\r\n    color: inherit;\r\n  }\r\n`\r\n\r\nconst Tag = styled(Date)`\r\n  top: 0;\r\n  bottom: unset;\r\n  p {\r\n    align-self: flex-start;\r\n  }\r\n`\r\nconst Roman = styled(Tag)`\r\n  @media (max-width: 768px) {\r\n    display: none;\r\n  }\r\n  right: unset;\r\n  left: -30px;\r\n  height: 22px;\r\n  width: auto;\r\n  p {\r\n    align-self: flex-end;\r\n    line-height: 22px;\r\n    font-size: 20px;\r\n    font-variation-settings: \"wght\" 1000, \"wdth\" 85, \"slnt\" 0;\r\n    writing-mode: unset;\r\n  }\r\n`\r\n\r\nconst View = styled(Date)`\r\n  left: -30px;\r\n  right: unset;\r\n  @media (max-width: 768px) {\r\n    display: none;\r\n  }\r\n  a {\r\n    font-variation-settings: unset;\r\n    letter-spacing: unset;\r\n    text-transform: uppercase;\r\n  }\r\n`\r\nconst intImg = (x, y) => `translate3d(${x * -0.005}px,${y * -0.005}px,0)`\r\nconst intView = f => `\"wght\" ${f}, \"wdth\" 85, \"slnt\" 0`\r\n\r\nconst Preview = ({ projects, spring, scroll, parallax, hoverIn, hoverOut, hover, hovered, setClip, ...props }) => (\r\n  <Prev {...props}>\r\n    <Date>\r\n      <Slide spring={spring} moveX=\"true\">\r\n        {projects.map((p, i) => (\r\n          <p key={`date${i}`}>{p.date}</p>\r\n        ))}\r\n      </Slide>\r\n    </Date>\r\n    <Tag>\r\n      <Slide spring={spring} moveX=\"true\">\r\n        {projects.map((p, i) => (\r\n          <p key={`tag${i}`}>{p.tags[0]}</p>\r\n        ))}\r\n      </Slide>\r\n    </Tag>\r\n    <Roman>\r\n      <Slide spring={spring}>\r\n        {projects.map((p, i) => (\r\n          <p key={`roman${i}`}>{romanize(i + 1)}</p>\r\n        ))}\r\n      </Slide>\r\n    </Roman>\r\n    <View>\r\n      <Slide\r\n        style={{\r\n          fontVariationSettings: hover\r\n            .interpolate({\r\n              range: [0, 1],\r\n              output: [350, 1000],\r\n            })\r\n            .interpolate(intView),\r\n          letterSpacing: hover\r\n            .interpolate({\r\n              range: [0, 1],\r\n              output: [2, 4],\r\n            })\r\n            .interpolate(f => `${f}px`),\r\n        }}\r\n        spring={spring}\r\n        moveX=\"true\"\r\n      >\r\n        {projects.map((p, i) => (\r\n          <Link\r\n            to={`/${p.slug}`}\r\n            key={`view${i}`}\r\n            onMouseEnter={() => hoverIn(p.slug)}\r\n            onMouseLeave={hoverOut}\r\n            setClip={setClip}\r\n          >\r\n            {p.prompt}\r\n          </Link>\r\n        ))}\r\n      </Slide>\r\n    </View>\r\n    <Img style={{ transform: parallax.xy.interpolate(intImg) }}>\r\n      <Scroll scroll={scroll}>\r\n        {projects.map((p, i) => {\r\n          const imageData = p.images[0].childImageSharp.fluid\r\n          return (\r\n            <Thumbnail\r\n              onMouseEnter={() => hoverIn(p.slug)}\r\n              onMouseLeave={hoverOut}\r\n              key={`prev${i}`}\r\n              slug={p.slug}\r\n              imageData={imageData}\r\n              parallax={parallax}\r\n              hovered={hovered}\r\n              setClip={setClip}\r\n            />\r\n          )\r\n        })}\r\n      </Scroll>\r\n    </Img>\r\n  </Prev>\r\n)\r\n\r\nexport default Preview\r\n","import React from \"react\"\r\nimport styled from \"styled-components\"\r\nimport Link from \"./link\"\r\nimport { animated } from \"react-spring\"\r\nimport Slide from \"./slide\"\r\n\r\n\r\nconst Title = styled(Slide)`\r\n  height: 1em;\r\n  a {\r\n    text-decoration: none;\r\n    white-space: nowrap;\r\n    text-transform: uppercase;\r\n    min-width: 80vw;\r\n    font-size: 6vw;\r\n    line-height: 1em;\r\n    padding-left: 3vw;\r\n    padding-bottom: 30px;\r\n    margin: 0px;\r\n    color: inherit;\r\n    pointer-events: all;\r\n    opacity: 0.2;\r\n    @media (max-width: 768px) {\r\n      margin-top: calc(var(--nav-size));\r\n    }\r\n    font-weight: bold;\r\n  }\r\n`\r\n\r\nconst Mask = styled.div`\r\n  display: flex;\r\n  overflow: hidden;\r\n  position: absolute;\r\n  top: 0px;\r\n  height: calc(100 * var(--vh));\r\n  width: calc(80vw + 24px);\r\n  a {\r\n    /* mix-blend-mode: saturation; */\r\n    opacity: 1;\r\n  }\r\n`\r\nconst Wrap = styled(animated.div)`\r\n  align-self: flex-start;\r\n  /* justify-self: center; */\r\n  position: absolute;\r\n  display: inline-block;\r\n  padding-left: 30px;\r\n  z-index: 5;\r\n  \r\n  @media (max-width: 768px) {\r\n    position: relative;\r\n    margin-bottom: 20px;\r\n    margin-top: 15px;\r\n    \r\n  }\r\n`\r\n\r\nconst Titles = ({ projects, spring, hoverIn, hoverOut, hover, setClip, ...props }) => {\r\n  let style = {\r\n    fontVariationSettings: hover\r\n      .interpolate({\r\n        range: [0, 1],\r\n        output: [1200, 680],\r\n      })\r\n      .interpolate(h => `\"wght\" ${h}, \"wdth\" 85, \"slnt\" 0`),\r\n    letterSpacing: hover\r\n      .interpolate({\r\n        range: [0, 1],\r\n        output: [1, 0.7],\r\n      })\r\n      .interpolate(h => `${h}vw`),\r\n  }\r\n\r\n  return (\r\n    <Wrap {...props}>\r\n      <Title style={style} spring={spring} moveX=\"true\" doesSkew=\"true\">\r\n        {projects.map((p, i) => (\r\n          <a key={`hidden${i}`} href={`#${p.slug}`}>\r\n            {p.title}\r\n          </a>\r\n        ))}\r\n      </Title>\r\n      <Mask>\r\n        <Title style={style} spring={spring} moveX=\"true\" doesSkew=\"true\">\r\n          {projects.map((p, i) => (\r\n            <Link\r\n              to={`/${p.slug}`}\r\n              key={`title${i}`}\r\n              onMouseEnter={() => hoverIn(p.slug)}\r\n              onMouseLeave={hoverOut}\r\n              setClip={setClip}\r\n            >\r\n              {p.title}\r\n            </Link>\r\n          ))}\r\n        </Title>\r\n      </Mask>\r\n    </Wrap>\r\n  )\r\n}\r\n\r\nexport default Titles","import React, { useRef, useLayoutEffect, useState, useEffect } from \"react\"\r\nimport styled from \"styled-components\"\r\nimport Preview from \"./preview\"\r\nimport Titles from \"./titles\"\r\nimport { useSpring } from \"react-spring\"\r\nimport anime from \"animejs\"\r\nimport { easeCubicOut } from 'd3-ease'\r\n\r\nconst Abs = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  position: absolute;\r\n`\r\n\r\nconst Wrap = styled.div`\r\n  position: -webkit-sticky;\r\n  position: sticky;\r\n  display: flex;\r\n  flex-direction: column;\r\n  top: 0;\r\n  left: 0;\r\n  overflow: hidden;\r\n  align-items: center;\r\n  @media (min-width: 768px) {\r\n    justify-content: center;\r\n  }\r\n  height: calc(100 * var(--vh));\r\n  width: 100vw;\r\n  pointer-events: none;\r\n  z-index: 100;\r\n`\r\n\r\nconst intPrev = (x, y) => `translate3d(${x * 0.055}px,${y * 0.055}px,0)`\r\nconst intTitle = (x, y) => `translate3d(${x * 0.085}px,${y * 0.085}px,0)`\r\n\r\nconst Folio = ({ projects, scroll, parallax, setClip }) => {\r\n  const [hovered, set] = useState(null)\r\n  const [ready, setReady] = useState(false)\r\n\r\n  const [props, setProps] = useSpring(() => ({\r\n    factor: 0,\r\n    config: { mass: 20, tension: 300, friction: 140 },\r\n  }))\r\n\r\n  const axes = useRef({ transform: 0, skew: 0 })\r\n\r\n  const [timeline, setTimeline] = useState()\r\n\r\n  const [spring, setSpring] = useSpring(() => ({\r\n    transform: -axes.current.transform,\r\n    skew: axes.current.skew,\r\n  }))\r\n\r\n  useLayoutEffect(() => {\r\n    const tl = anime.timeline({\r\n      targets: axes.current,\r\n      easing: \"easeInOutQuint\",\r\n      autoplay: false,\r\n    })\r\n\r\n    projects.forEach((p, i) => {\r\n      const duration = i < 1 ? 0.001 : 1\r\n      const trans = (100 / projects.length) * i\r\n      tl.add({ transform: i < 1 ? [trans, trans] : trans, duration: duration })\r\n    })\r\n    setTimeline(tl)\r\n  }, [projects])\r\n\r\n  const hoverIn = slug => {\r\n    set(slug)\r\n    setProps({ factor: 1 })\r\n  }\r\n  const hoverOut = () => {\r\n    set(null)\r\n    setProps({ factor: 0 })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (timeline) {\r\n      timeline.seek(timeline.duration * scroll.top)\r\n      if (!ready && scroll.render) {\r\n        setSpring({\r\n          transform: -axes.current.transform,\r\n          immediate: true,\r\n          onRest: () => {\r\n            setSpring({ immediate: false, onRest: undefined })\r\n            setReady(true)\r\n          },\r\n        })\r\n      } else {\r\n        timeline.seek(timeline.duration * scroll.top)\r\n        let absSkew = easeCubicOut(Math.abs(scroll.speed)) * 50\r\n        let skew = scroll.speed > 0 ? absSkew : -absSkew\r\n        setSpring({\r\n          transform: -axes.current.transform,\r\n          skew: skew,\r\n        })\r\n      }\r\n    }\r\n  }, [scroll, timeline, setSpring, ready, setReady])\r\n\r\n  return (\r\n    <Abs>\r\n      <Wrap>\r\n        <Titles\r\n          hoverIn={hoverIn}\r\n          hoverOut={hoverOut}\r\n          style={{ transform: parallax.xy.interpolate(intTitle) }}\r\n          projects={projects}\r\n          spring={spring}\r\n          hover={props.factor}\r\n          setClip={setClip}\r\n        />\r\n        <Preview\r\n          hoverIn={hoverIn}\r\n          hoverOut={hoverOut}\r\n          style={{ transform: parallax.xy.interpolate(intPrev) }}\r\n          projects={projects}\r\n          spring={spring}\r\n          scroll={scroll}\r\n          hover={props.factor}\r\n          hovered={hovered}\r\n          parallax={parallax}\r\n          setClip={setClip}\r\n        />\r\n      </Wrap>\r\n    </Abs>\r\n  )\r\n}\r\n\r\nexport default Folio\r\n","export function cubicIn(t) {\n  return t * t * t;\n}\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}","import React, { useState} from \"react\"\r\nimport { graphql, useStaticQuery } from \"gatsby\"\r\nimport * as Mouse from '../components/mouse'\r\n\r\nimport Layout from \"../components/layout\"\r\nimport Folio from \"../components/folio\"\r\nimport Header from \"../components/header\"\r\nimport Bookmarks from \"../components/bookmarks\"\r\n\r\nimport styled from \"styled-components\"\r\nimport { useSpring } from \"react-spring\"\r\n\r\nconst Dummy = styled.div`\r\n  height:  calc(100 * var(--vh));\r\n  width: 100vw;\r\n`\r\n\r\nconst IndexPage = ({location : {state}, location}) => {\r\n  const data = useStaticQuery(graphql`\r\n    {\r\n      allProjectsJson {\r\n        edges {\r\n          node {\r\n            title\r\n            slug\r\n            date\r\n            tags\r\n            prompt\r\n            images {\r\n              childImageSharp {\r\n                fluid(maxWidth: 1920) {\r\n                  ...GatsbyImageSharpFluid_withWebp_noBase64\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  `)\r\n\r\n  const projects = data.allProjectsJson.edges.map(p => p.node)\r\n  const [scroll, setScroll] = useState({top: 0, speed: 0, render : location.hash ? false : true})\r\n  const [parallax, setParallax] = useSpring(() => ({\r\n    xy: [0, 0],\r\n    config: { mass: 10, tension: 550, friction: 140 },\r\n  }))\r\n  \r\n  const [clip, setClip] = useSpring( () => ({trim: Mouse.calc( state?.linked ? Mouse.pos.r : 0), mask: Mouse.calc(Mouse.pos.r)}))\r\n\r\n  return (\r\n      <Layout title=\"Home\" clip={clip} setClip={setClip} setScroll={setScroll} setParallax={setParallax}>\r\n        <Header setClip={setClip} to=\"/about\" top={projects[0].slug} parallax={parallax}>\r\n          <Bookmarks scroll={scroll} projects={projects} setClip={setClip}/>\r\n        </Header>\r\n        <Folio\r\n          scroll={scroll}\r\n          projects={projects}\r\n          parallax={parallax}\r\n          setClip={setClip}\r\n        />\r\n        {projects.map( p => {\r\n          return <Dummy key={p.slug} id={p.slug} />\r\n        })}\r\n      </Layout>\r\n  )\r\n}\r\n\r\nexport default IndexPage\r\n"],"sourceRoot":""}