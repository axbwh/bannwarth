{"version":3,"sources":["webpack:///./src/components/thumbnail.js","webpack:///./src/components/slide.js","webpack:///./src/components/scroll.js","webpack:///./src/components/preview.js","webpack:///./src/components/titles.js","webpack:///./src/components/folio.js","webpack:///./node_modules/d3-ease/src/cubic.js","webpack:///./src/pages/index.js"],"names":["Project","styled","Link","withConfig","displayName","componentId","Clip","animated","div","int","x","y","Thumbnail","_ref","slug","title","imageData","parallax","hovered","props","isSmall","window","innerWidth","hover","set","useSpring","val","config","mass","tension","friction","React","createElement","Object","assign","to","style","transform","xy","interpolate","range","output","s","opacity","isMobile","Image","loading","fluid","alt","backgroundColor","Div","moveX","rest","Slide","_ref2","children","spring","doesSkew","skew","slideX","slideY","passRef","ref","Scroll","scroll","useRef","axes","timeline","setTimeline","useState","ready","setReady","setSpring","current","useLayoutEffect","handleSize","elems","Array","from","childNodes","tl","anime","targets","easing","autoplay","forEach","e","i","duration","offsetLeft","offsetTop","add","addEventListener","removeEventListener","useEffect","seek","top","render","immediate","onRest","undefined","Img","Prev","Date","Tag","Roman","View","intImg","intView","f","Preview","projects","hoverIn","hoverOut","setClip","map","p","key","date","tags","romanize","fontVariationSettings","letterSpacing","onMouseEnter","onMouseLeave","prompt","images","childImageSharp","Title","Mask","Wrap","Titles","h","href","Abs","intPrev","intTitle","Folio","setProps","factor","trans","length","absSkew","t","Math","abs","speed","Dummy","IndexPage","location","state","useStaticQuery","allProjectsJson","edges","node","setScroll","hash","setParallax","clip","trim","Mouse","linked","r","mask","Layout","Header","Bookmarks","id"],"mappings":"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","file":"component---src-pages-index-js-6437f7fc1e707aeb959c.js","sourcesContent":["import React from \"react\"\r\nimport styled from \"styled-components\"\r\nimport Link from \"./link\"\r\nimport Image from \"gatsby-image\"\r\nimport { animated, useSpring } from \"react-spring\"\r\nimport {isMobile} from 'react-device-detect'\r\n\r\nconst Project = styled(Link)`\r\n  width: 100%;\r\n  pointer-events: auto;\r\n  overflow: hidden;\r\n  display: block;\r\n  position: relative;\r\n  &:not(:last-child) {\r\n    padding-bottom: 10vw;\r\n  }\r\n`\r\n\r\nconst Clip = styled(animated.div)`\r\n  position: relative;\r\n  display: block;\r\n  overflow: hidden;\r\n  width: calc(100vw - var(--gutter) * 2);\r\n  height: calc( (100vw - var(--gutter) * 2) * 9 / 16);\r\n  @media (max-width: 768px) {\r\n    //height: calc((100 * var(--vh)) - var(--nav-size) - 6vw - 10px - 35px);\r\n  }\r\n`\r\n\r\nconst int = (x, y) => `translate3d(${x * -0.03}px,${y * -0.03}px,0)`\r\n\r\nconst Thumbnail = ({ slug, title, imageData, parallax, hovered, ...props }) =>{\r\n\r\n const isSmall = typeof window !== \"undefined\" && window.innerWidth < 768;\r\n\r\n  const [hover, set] = useSpring(() => ({ val: 0, config: { mass: 1, tension: 280, friction: 200 } }))\r\n  \r\n  set({val: hovered === slug ? 1 : 0})\r\n  return (\r\n    <Project\r\n      to={`/${slug}`}\r\n      {...props}\r\n    >\r\n      <Clip style={{ transform: parallax.xy.interpolate(int) }}>\r\n        <animated.div\r\n          style={{\r\n            transform: hover.val.interpolate({\r\n              range: [0, 1],\r\n              output: [1.05, 1.01]\r\n            }).interpolate(s => `scale(${s})`),\r\n            opacity: hover.val.interpolate({\r\n              range: [0, 1],\r\n              output: isMobile || isSmall ? [1, 1] : [0.5, 0.9],\r\n            }),\r\n          }}\r\n        >\r\n          <Image loading='eager' fluid={imageData} alt={title} backgroundColor={true}/>\r\n        </animated.div>\r\n      </Clip>\r\n    </Project>\r\n  )}\r\n\r\nexport default Thumbnail\r\n","import React from \"react\"\r\nimport styled from \"styled-components\"\r\nimport { animated, interpolate } from 'react-spring'\r\n\r\n\r\n\r\nconst Div = styled(({moveX, ...rest}) => <animated.div {...rest} />)`\r\n  display: ${props => props.moveX ? \"inline-flex\" : \"flex\"};\r\n  flex-direction: ${props => props.moveX ? \"row\" : \"column\"};\r\n`\r\n\r\nconst Slide = ({ children, spring, moveX = false, doesSkew = false, style, ...props }) => {\r\n\r\n    const slideX = (transform, skew) => doesSkew ? `translateX(${transform}%) skew(${skew}deg, 0deg)` : `translateX(${transform}%) `\r\n    const slideY = (transform, skew) => doesSkew ? `translateY(${transform}%) skew(0deg, ${skew}deg)` : `translateY(${transform}%) `\r\n    \r\n    return (\r\n        <Div style={{...style, transform: interpolate([spring.transform, spring.skew], moveX ? slideX : slideY)}} moveX={moveX} {...props}>\r\n            {children}\r\n        </Div>\r\n    )\r\n}\r\n\r\nexport default Slide","import React, { useRef, useLayoutEffect, useState, useEffect } from \"react\"\r\nimport { useSpring, animated } from \"react-spring\"\r\nimport anime from \"animejs\"\r\nimport styled from \"styled-components\"\r\n\r\nconst Div = styled(({ moveX, passRef, ...rest }) =><animated.div ref={passRef} {...rest} />)`\r\n  display: ${props => props.moveX ? \"inline-flex\" : \"flex\"};\r\n  flex-direction: ${props => props.moveX ? \"row\" : \"column\"};\r\n`\r\n\r\nconst Scroll = ({ children, scroll, moveX = false, style, ...props }) => {\r\n  const ref = useRef(null)\r\n  const axes = useRef({ x: 0, y: 0 })\r\n  const [timeline, setTimeline] = useState()\r\n  const [ready, setReady] = useState(false)\r\n\r\n  const [spring, setSpring] = useSpring(() => ({\r\n    x: `translateX(${-axes.current.x}px) `,\r\n    y: `translateY(${-axes.current.y}px) `,\r\n  }))\r\n\r\n  useLayoutEffect(() => {\r\n    const handleSize = () => {\r\n      const elems = Array.from(ref.current.childNodes)\r\n  \r\n      const tl = anime.timeline({\r\n        targets: axes.current,\r\n        easing: \"easeInOutQuint\",\r\n        autoplay: false,\r\n      })\r\n  \r\n      elems.forEach((e, i) => {\r\n        const duration = i < 1 ? 0.001 : 1\r\n        const x = e.offsetLeft\r\n        const y = e.offsetTop\r\n        tl.add({\r\n          x: i < 1 ? [x, x] : x,\r\n          y: i < 1 ? [y, y] : y,\r\n          duration: duration,\r\n        })\r\n      })\r\n      setTimeline(tl)\r\n    }\r\n    \r\n    handleSize()\r\n    window.addEventListener(\"resize\", handleSize)\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleSize)\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (timeline) {\r\n      timeline.seek(timeline.duration * scroll.top)\r\n      if (!ready && scroll.render) {\r\n        setSpring({\r\n          x: `translateX(${-axes.current.x}px) `,\r\n          y: `translateY(${-axes.current.y}px) `,\r\n          immediate: true,\r\n          onRest: () => {\r\n            setSpring({ immediate: false, onRest: undefined })\r\n            setReady(true)\r\n          },\r\n        })\r\n      } else {\r\n        setSpring({\r\n          x: `translateX(${-axes.current.x}px) `,\r\n          y: `translateY(${-axes.current.y}px) `,\r\n        })\r\n      }\r\n    }\r\n  }, [scroll, timeline, setSpring, ready, setReady])\r\n\r\n\r\n  return (\r\n    <Div\r\n      moveX={moveX}\r\n      passRef={ref}\r\n      style={{ ...style, transform: moveX ? spring.x : spring.y }}\r\n      {...props}\r\n    >\r\n      {children}\r\n    </Div>\r\n  )\r\n}\r\n\r\nexport default Scroll\r\n","import React from \"react\"\r\nimport styled from \"styled-components\"\r\nimport Link from \"./link\"\r\nimport { animated } from \"react-spring\"\r\nimport Thumbnail from \"./thumbnail\"\r\nimport Slide from './slide'\r\nimport { romanize } from './utils'\r\nimport Scroll from './scroll'\r\n\r\nconst Img = styled(animated.div)`\r\n  position: relative;\r\n  overflow: hidden;\r\n`\r\n\r\nconst Prev = styled(animated.div)`\r\n  position: relative;\r\n  display: block;\r\n  width: calc(100vw - var(--gutter) * 2);\r\n  height: calc( (100vw - var(--gutter) * 2) * 9 / 16);\r\n  @media (max-width: 768px) {\r\n    height: calc((100 * var(--vh)) - var(--nav-size) - 6vw - 10px - 35px);\r\n  }\r\n`\r\nconst Date = styled.div`\r\n  position: absolute;\r\n  right: -30px;\r\n  width: 20px;\r\n  overflow: hidden;\r\n  bottom: 0;\r\n\r\n  p,\r\n  a {\r\n    display: block;\r\n    writing-mode: vertical-lr;\r\n    /* width: 20px; */\r\n    line-height: 20px;\r\n    font-size: 14px;\r\n    font-variation-settings: \"wght\" 350, \"wdth\" 85, \"slnt\" 0;\r\n    letter-spacing: 2px;\r\n    pointer-events: all;\r\n    margin: 0;\r\n    white-space: nowrap;\r\n    align-self: flex-end;\r\n    text-transform: capitalize;\r\n    text-decoration: none;\r\n    color: inherit;\r\n  }\r\n`\r\n\r\nconst Tag = styled(Date)`\r\n  top: 0;\r\n  bottom: unset;\r\n  p {\r\n    align-self: flex-start;\r\n  }\r\n`\r\nconst Roman = styled(Tag)`\r\n  @media (max-width: 768px) {\r\n    display: none;\r\n  }\r\n  right: unset;\r\n  left: -30px;\r\n  height: 22px;\r\n  width: auto;\r\n  p {\r\n    align-self: flex-end;\r\n    line-height: 22px;\r\n    font-size: 20px;\r\n    font-variation-settings: \"wght\" 1000, \"wdth\" 85, \"slnt\" 0;\r\n    writing-mode: unset;\r\n  }\r\n`\r\n\r\nconst View = styled(Date)`\r\n  left: -30px;\r\n  right: unset;\r\n  @media (max-width: 768px) {\r\n    display: none;\r\n  }\r\n  a {\r\n    font-variation-settings: unset;\r\n    letter-spacing: unset;\r\n    text-transform: uppercase;\r\n  }\r\n`\r\nconst intImg = (x, y) => `translate3d(${x * -0.005}px,${y * -0.005}px,0)`\r\nconst intView = f => `\"wght\" ${f}, \"wdth\" 85, \"slnt\" 0`\r\n\r\nconst Preview = ({ projects, spring, scroll, parallax, hoverIn, hoverOut, hover, hovered, setClip, ...props }) => (\r\n  <Prev {...props}>\r\n    <Date>\r\n      <Slide spring={spring} moveX=\"true\">\r\n        {projects.map((p, i) => (\r\n          <p key={`date${i}`}>{p.date}</p>\r\n        ))}\r\n      </Slide>\r\n    </Date>\r\n    <Tag>\r\n      <Slide spring={spring} moveX=\"true\">\r\n        {projects.map((p, i) => (\r\n          <p key={`tag${i}`}>{p.tags[0]}</p>\r\n        ))}\r\n      </Slide>\r\n    </Tag>\r\n    <Roman>\r\n      <Slide spring={spring}>\r\n        {projects.map((p, i) => (\r\n          <p key={`roman${i}`}>{romanize(i + 1)}</p>\r\n        ))}\r\n      </Slide>\r\n    </Roman>\r\n    <View>\r\n      <Slide\r\n        style={{\r\n          fontVariationSettings: hover\r\n            .interpolate({\r\n              range: [0, 1],\r\n              output: [350, 1000],\r\n            })\r\n            .interpolate(intView),\r\n          letterSpacing: hover\r\n            .interpolate({\r\n              range: [0, 1],\r\n              output: [2, 4],\r\n            })\r\n            .interpolate(f => `${f}px`),\r\n        }}\r\n        spring={spring}\r\n        moveX=\"true\"\r\n      >\r\n        {projects.map((p, i) => (\r\n          <Link\r\n            to={`/${p.slug}`}\r\n            key={`view${i}`}\r\n            onMouseEnter={() => hoverIn(p.slug)}\r\n            onMouseLeave={hoverOut}\r\n            setClip={setClip}\r\n          >\r\n            {p.prompt}\r\n          </Link>\r\n        ))}\r\n      </Slide>\r\n    </View>\r\n    <Img style={{ transform: parallax.xy.interpolate(intImg) }}>\r\n      <Scroll scroll={scroll}>\r\n        {projects.map((p, i) => {\r\n          const imageData = p.images[0].childImageSharp.fluid\r\n          return (\r\n            <Thumbnail\r\n              onMouseEnter={() => hoverIn(p.slug)}\r\n              onMouseLeave={hoverOut}\r\n              key={`prev${i}`}\r\n              slug={p.slug}\r\n              imageData={imageData}\r\n              parallax={parallax}\r\n              hovered={hovered}\r\n              setClip={setClip}\r\n            />\r\n          )\r\n        })}\r\n      </Scroll>\r\n    </Img>\r\n  </Prev>\r\n)\r\n\r\nexport default Preview\r\n","import React from \"react\"\r\nimport styled from \"styled-components\"\r\nimport Link from \"./link\"\r\nimport { animated } from \"react-spring\"\r\nimport Slide from \"./slide\"\r\n\r\n\r\nconst Title = styled(Slide)`\r\n  height: 1em;\r\n  a {\r\n    text-decoration: none;\r\n    white-space: nowrap;\r\n    text-transform: uppercase;\r\n    min-width: 80vw;\r\n    font-size: 6vw;\r\n    line-height: 1em;\r\n    padding-left: 3vw;\r\n    padding-bottom: 30px;\r\n    margin: 0px;\r\n    color: inherit;\r\n    pointer-events: all;\r\n    opacity: 0.2;\r\n    @media (max-width: 768px) {\r\n      margin-top: calc(var(--nav-size));\r\n    }\r\n    font-weight: bold;\r\n  }\r\n`\r\n\r\nconst Mask = styled.div`\r\n  display: flex;\r\n  overflow: hidden;\r\n  position: absolute;\r\n  top: 0px;\r\n  height: calc(100 * var(--vh));\r\n  width: calc(80vw + 24px);\r\n  a {\r\n    /* mix-blend-mode: saturation; */\r\n    opacity: 1;\r\n  }\r\n`\r\nconst Wrap = styled(animated.div)`\r\n  align-self: flex-start;\r\n  /* justify-self: center; */\r\n  position: absolute;\r\n  display: inline-block;\r\n  padding-left: 30px;\r\n  z-index: 5;\r\n  \r\n  @media (max-width: 768px) {\r\n    position: relative;\r\n    margin-bottom: 20px;\r\n    margin-top: 15px;\r\n    \r\n  }\r\n`\r\n\r\nconst Titles = ({ projects, spring, hoverIn, hoverOut, hover, setClip, ...props }) => {\r\n  let style = {\r\n    fontVariationSettings: hover\r\n      .interpolate({\r\n        range: [0, 1],\r\n        output: [1200, 680],\r\n      })\r\n      .interpolate(h => `\"wght\" ${h}, \"wdth\" 85, \"slnt\" 0`),\r\n    letterSpacing: hover\r\n      .interpolate({\r\n        range: [0, 1],\r\n        output: [1, 0.7],\r\n      })\r\n      .interpolate(h => `${h}vw`),\r\n  }\r\n\r\n  return (\r\n    <Wrap {...props}>\r\n      <Title style={style} spring={spring} moveX=\"true\" doesSkew=\"true\">\r\n        {projects.map((p, i) => (\r\n          <a key={`hidden${i}`} href={`#${p.slug}`}>\r\n            {p.title}\r\n          </a>\r\n        ))}\r\n      </Title>\r\n      <Mask>\r\n        <Title style={style} spring={spring} moveX=\"true\" doesSkew=\"true\">\r\n          {projects.map((p, i) => (\r\n            <Link\r\n              to={`/${p.slug}`}\r\n              key={`title${i}`}\r\n              onMouseEnter={() => hoverIn(p.slug)}\r\n              onMouseLeave={hoverOut}\r\n              setClip={setClip}\r\n            >\r\n              {p.title}\r\n            </Link>\r\n          ))}\r\n        </Title>\r\n      </Mask>\r\n    </Wrap>\r\n  )\r\n}\r\n\r\nexport default Titles","import React, { useRef, useLayoutEffect, useState, useEffect } from \"react\"\r\nimport styled from \"styled-components\"\r\nimport Preview from \"./preview\"\r\nimport Titles from \"./titles\"\r\nimport { useSpring } from \"react-spring\"\r\nimport anime from \"animejs\"\r\nimport { easeCubicOut } from 'd3-ease'\r\n\r\nconst Abs = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  position: absolute;\r\n`\r\n\r\nconst Wrap = styled.div`\r\n  position: -webkit-sticky;\r\n  position: sticky;\r\n  display: flex;\r\n  flex-direction: column;\r\n  top: 0;\r\n  left: 0;\r\n  overflow: hidden;\r\n  align-items: center;\r\n  @media (min-width: 768px) {\r\n    justify-content: center;\r\n  }\r\n  height: calc(100 * var(--vh));\r\n  width: 100vw;\r\n  pointer-events: none;\r\n  z-index: 100;\r\n`\r\n\r\nconst intPrev = (x, y) => `translate3d(${x * 0.055}px,${y * 0.055}px,0)`\r\nconst intTitle = (x, y) => `translate3d(${x * 0.085}px,${y * 0.085}px,0)`\r\n\r\nconst Folio = ({ projects, scroll, parallax, setClip }) => {\r\n  const [hovered, set] = useState(null)\r\n  const [ready, setReady] = useState(false)\r\n\r\n  const [props, setProps] = useSpring(() => ({\r\n    factor: 0,\r\n    config: { mass: 20, tension: 300, friction: 140 },\r\n  }))\r\n\r\n  const axes = useRef({ transform: 0, skew: 0 })\r\n\r\n  const [timeline, setTimeline] = useState()\r\n\r\n  const [spring, setSpring] = useSpring(() => ({\r\n    transform: -axes.current.transform,\r\n    skew: axes.current.skew,\r\n  }))\r\n\r\n  useLayoutEffect(() => {\r\n    const tl = anime.timeline({\r\n      targets: axes.current,\r\n      easing: \"easeInOutQuint\",\r\n      autoplay: false,\r\n    })\r\n\r\n    projects.forEach((p, i) => {\r\n      const duration = i < 1 ? 0.001 : 1\r\n      const trans = (100 / projects.length) * i\r\n      tl.add({ transform: i < 1 ? [trans, trans] : trans, duration: duration })\r\n    })\r\n    setTimeline(tl)\r\n  }, [projects])\r\n\r\n  const hoverIn = slug => {\r\n    set(slug)\r\n    setProps({ factor: 1 })\r\n  }\r\n  const hoverOut = () => {\r\n    set(null)\r\n    setProps({ factor: 0 })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (timeline) {\r\n      timeline.seek(timeline.duration * scroll.top)\r\n      if (!ready && scroll.render) {\r\n        setSpring({\r\n          transform: -axes.current.transform,\r\n          immediate: true,\r\n          onRest: () => {\r\n            setSpring({ immediate: false, onRest: undefined })\r\n            setReady(true)\r\n          },\r\n        })\r\n      } else {\r\n        timeline.seek(timeline.duration * scroll.top)\r\n        let absSkew = easeCubicOut(Math.abs(scroll.speed)) * 50\r\n        let skew = scroll.speed > 0 ? absSkew : -absSkew\r\n        setSpring({\r\n          transform: -axes.current.transform,\r\n          skew: skew,\r\n        })\r\n      }\r\n    }\r\n  }, [scroll, timeline, setSpring, ready, setReady])\r\n\r\n  return (\r\n    <Abs>\r\n      <Wrap>\r\n        <Titles\r\n          hoverIn={hoverIn}\r\n          hoverOut={hoverOut}\r\n          style={{ transform: parallax.xy.interpolate(intTitle) }}\r\n          projects={projects}\r\n          spring={spring}\r\n          hover={props.factor}\r\n          setClip={setClip}\r\n        />\r\n        <Preview\r\n          hoverIn={hoverIn}\r\n          hoverOut={hoverOut}\r\n          style={{ transform: parallax.xy.interpolate(intPrev) }}\r\n          projects={projects}\r\n          spring={spring}\r\n          scroll={scroll}\r\n          hover={props.factor}\r\n          hovered={hovered}\r\n          parallax={parallax}\r\n          setClip={setClip}\r\n        />\r\n      </Wrap>\r\n    </Abs>\r\n  )\r\n}\r\n\r\nexport default Folio\r\n","export function cubicIn(t) {\n  return t * t * t;\n}\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}","import React, { useState} from \"react\"\r\nimport { graphql, useStaticQuery } from \"gatsby\"\r\nimport * as Mouse from '../components/mouse'\r\n\r\nimport Layout from \"../components/layout\"\r\nimport Folio from \"../components/folio\"\r\nimport Header from \"../components/header\"\r\nimport Bookmarks from \"../components/bookmarks\"\r\n\r\nimport styled from \"styled-components\"\r\nimport { useSpring } from \"react-spring\"\r\n\r\nconst Dummy = styled.div`\r\n  height:  calc(100 * var(--vh));\r\n  width: 100vw;\r\n`\r\n\r\nconst IndexPage = ({location : {state}, location}) => {\r\n  const data = useStaticQuery(graphql`\r\n    {\r\n      allProjectsJson {\r\n        edges {\r\n          node {\r\n            title\r\n            slug\r\n            date\r\n            tags\r\n            prompt\r\n            images {\r\n              childImageSharp {\r\n                fluid(maxWidth: 1920) {\r\n                  ...GatsbyImageSharpFluid_withWebp_noBase64\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  `)\r\n\r\n  const projects = data.allProjectsJson.edges.map(p => p.node)\r\n  const [scroll, setScroll] = useState({top: 0, speed: 0, render : location.hash ? false : true})\r\n  const [parallax, setParallax] = useSpring(() => ({\r\n    xy: [0, 0],\r\n    config: { mass: 10, tension: 550, friction: 140 },\r\n  }))\r\n  \r\n  const [clip, setClip] = useSpring( () => ({trim: Mouse.calc( state?.linked ? Mouse.pos.r : 0), mask: Mouse.calc(Mouse.pos.r)}))\r\n\r\n  return (\r\n      <Layout title=\"Home\" clip={clip} setClip={setClip} setScroll={setScroll} setParallax={setParallax}>\r\n        <Header setClip={setClip} to=\"/about\" top={projects[0].slug} parallax={parallax}>\r\n          <Bookmarks scroll={scroll} projects={projects} setClip={setClip}/>\r\n        </Header>\r\n        <Folio\r\n          scroll={scroll}\r\n          projects={projects}\r\n          parallax={parallax}\r\n          setClip={setClip}\r\n        />\r\n        {projects.map( p => {\r\n          return <Dummy key={p.slug} id={p.slug} />\r\n        })}\r\n      </Layout>\r\n  )\r\n}\r\n\r\nexport default IndexPage\r\n"],"sourceRoot":""}