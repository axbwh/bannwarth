{"version":3,"sources":["webpack:///./src/components/thumbnail.js","webpack:///./src/components/slide.js","webpack:///./src/components/scroll.js","webpack:///./src/components/preview.js","webpack:///./src/components/titles.js","webpack:///./src/components/folio.js","webpack:///./node_modules/d3-ease/src/cubic.js","webpack:///./src/pages/index.js"],"names":["Project","styled","Link","withConfig","displayName","componentId","Clip","animated","div","int","x","y","Thumbnail","_ref","slug","title","imageData","parallax","hovered","props","isSmall","setSmall","useState","window","innerWidth","hover","set","useSpring","val","config","mass","tension","friction","useLayoutEffect","handleSmall","addEventListener","removeEventListener","React","createElement","Object","assign","to","style","transform","xy","interpolate","range","output","s","opacity","Image","loading","fluid","alt","backgroundColor","Div","moveX","rest","Slide","_ref2","children","spring","doesSkew","skew","slideX","slideY","passRef","ref","Scroll","scroll","useRef","axes","timeline","setTimeline","ready","setReady","setSpring","current","handleSize","elems","Array","from","childNodes","tl","anime","targets","easing","autoplay","forEach","e","i","duration","offsetLeft","offsetTop","add","useEffect","seek","top","render","immediate","onRest","undefined","Img","Prev","Date","Tag","Roman","View","intImg","intView","f","Preview","projects","hoverIn","hoverOut","setClip","map","p","key","date","tags","romanize","fontVariationSettings","letterSpacing","onMouseEnter","onMouseLeave","prompt","images","childImageSharp","Title","Mask","Wrap","Titles","h","href","Abs","intPrev","intTitle","Folio","setProps","factor","trans","length","absSkew","t","Math","abs","speed","Dummy","IndexPage","location","state","useStaticQuery","allProjectsJson","edges","node","setScroll","hash","setParallax","clip","trim","Mouse","linked","r","mask","Layout","Header","Bookmarks","id"],"mappings":"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","file":"component---src-pages-index-js-200350b542b13ad9faf7.js","sourcesContent":["import React, { useEffect, useLayoutEffect, useState } from \"react\"\r\nimport styled from \"styled-components\"\r\nimport Link from \"./link\"\r\nimport Image from \"gatsby-image\"\r\nimport { animated, useSpring } from \"react-spring\"\r\nimport {isMobile} from 'react-device-detect'\r\n\r\nconst Project = styled(Link)`\r\n  width: 100%;\r\n  pointer-events: auto;\r\n  overflow: hidden;\r\n  display: block;\r\n  position: relative;\r\n  &:not(:last-child) {\r\n    padding-bottom: 10vw;\r\n  }\r\n`\r\n\r\nconst Clip = styled(animated.div)`\r\n  position: relative;\r\n  display: block;\r\n  overflow: hidden;\r\n  width: calc(100vw - var(--gutter) * 2);\r\n  height: calc( (100vw - var(--gutter) * 2) * 9 / 16);\r\n  @media (max-width: 768px) {\r\n    //height: calc((100 * var(--vh)) - var(--nav-size) - 6vw - 10px - 35px);\r\n  }\r\n`\r\n\r\nconst int = (x, y) => `translate3d(${x * -0.03}px,${y * -0.03}px,0)`\r\n\r\nconst Thumbnail = ({ slug, title, imageData, parallax, hovered, ...props }) =>{\r\n\r\n\r\n\r\n  const [isSmall, setSmall] = useState(() => {\r\n    if (typeof window !== \"undefined\") {\r\n      return window.innerWidth <= 768;\r\n    }\r\n    return true;\r\n  });\r\n\r\n  const [hover, set] = useSpring(() => ({ val: 0, config: { mass: 1, tension: 280, friction: 200 } }))\r\n  \r\n  set({val: hovered === slug ? 1 : 0})\r\n\r\n  if (typeof window !== \"undefined\") {\r\n    set({val: window.innerWidth <= 768 ? 1 : hovered === slug ? 1 : 0})\r\n  }\r\n\r\n  useLayoutEffect( () => {\r\n    const handleSmall = () =>{\r\n      if(typeof window !== \"undefined\"){\r\n        setSmall(window.innerWidth <= 768)\r\n        set({val: window.innerWidth <= 768 ? 1 : hovered === slug ? 1 : 0})\r\n      }\r\n    }\r\n    \r\n    window.addEventListener(\"resize\", handleSmall)\r\n    window.addEventListener(\"gestureend\", handleSmall)\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleSmall)\r\n      window.removeEventListener(\"gestureend\", handleSmall)\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <Project\r\n      to={`/${slug}`}\r\n      {...props}\r\n    >\r\n      <Clip style={{ transform: parallax.xy.interpolate(int) }}>\r\n        <animated.div\r\n          style={{\r\n            transform: hover.val.interpolate({\r\n              range: [0, 1],\r\n              output: [1.05, 1.01]\r\n            }).interpolate(s => `scale(${s})`),\r\n            opacity: hover.val.interpolate({\r\n              range: [0, 1],\r\n              output: [0.5, 1],\r\n            }),\r\n          }}\r\n        >\r\n          <Image loading='eager' fluid={imageData} alt={title} backgroundColor={true}/>\r\n        </animated.div>\r\n      </Clip>\r\n    </Project>\r\n  )}\r\n\r\nexport default Thumbnail\r\n","import React from \"react\"\r\nimport styled from \"styled-components\"\r\nimport { animated, interpolate } from 'react-spring'\r\n\r\n\r\n\r\nconst Div = styled(({moveX, ...rest}) => <animated.div {...rest} />)`\r\n  display: ${props => props.moveX ? \"inline-flex\" : \"flex\"};\r\n  flex-direction: ${props => props.moveX ? \"row\" : \"column\"};\r\n`\r\n\r\nconst Slide = ({ children, spring, moveX = false, doesSkew = false, style, ...props }) => {\r\n\r\n    const slideX = (transform, skew) => doesSkew ? `translateX(${transform}%) skew(${skew}deg, 0deg)` : `translateX(${transform}%) `\r\n    const slideY = (transform, skew) => doesSkew ? `translateY(${transform}%) skew(0deg, ${skew}deg)` : `translateY(${transform}%) `\r\n    \r\n    return (\r\n        <Div style={{...style, transform: interpolate([spring.transform, spring.skew], moveX ? slideX : slideY)}} moveX={moveX} {...props}>\r\n            {children}\r\n        </Div>\r\n    )\r\n}\r\n\r\nexport default Slide","import React, { useRef, useLayoutEffect, useState, useEffect } from \"react\"\r\nimport { useSpring, animated } from \"react-spring\"\r\nimport anime from \"animejs\"\r\nimport styled from \"styled-components\"\r\n\r\nconst Div = styled(({ moveX, passRef, ...rest }) =><animated.div ref={passRef} {...rest} />)`\r\n  display: ${props => props.moveX ? \"inline-flex\" : \"flex\"};\r\n  flex-direction: ${props => props.moveX ? \"row\" : \"column\"};\r\n`\r\n\r\nconst Scroll = ({ children, scroll, moveX = false, style, ...props }) => {\r\n  const ref = useRef(null)\r\n  const axes = useRef({ x: 0, y: 0 })\r\n  const [timeline, setTimeline] = useState()\r\n  const [ready, setReady] = useState(false)\r\n\r\n  const [spring, setSpring] = useSpring(() => ({\r\n    x: `translateX(${-axes.current.x}px) `,\r\n    y: `translateY(${-axes.current.y}px) `,\r\n  }))\r\n\r\n  useLayoutEffect(() => {\r\n    const handleSize = () => {\r\n      const elems = Array.from(ref.current.childNodes)\r\n  \r\n      const tl = anime.timeline({\r\n        targets: axes.current,\r\n        easing: \"easeInOutQuint\",\r\n        autoplay: false,\r\n      })\r\n  \r\n      elems.forEach((e, i) => {\r\n        const duration = i < 1 ? 0.001 : 1\r\n        const x = e.offsetLeft\r\n        const y = e.offsetTop\r\n        tl.add({\r\n          x: i < 1 ? [x, x] : x,\r\n          y: i < 1 ? [y, y] : y,\r\n          duration: duration,\r\n        })\r\n      })\r\n      setTimeline(tl)\r\n    }\r\n    \r\n    handleSize()\r\n    window.addEventListener(\"resize\", handleSize)\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleSize)\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (timeline) {\r\n      timeline.seek(timeline.duration * scroll.top)\r\n      if (!ready && scroll.render) {\r\n        setSpring({\r\n          x: `translateX(${-axes.current.x}px) `,\r\n          y: `translateY(${-axes.current.y}px) `,\r\n          immediate: true,\r\n          onRest: () => {\r\n            setSpring({ immediate: false, onRest: undefined })\r\n            setReady(true)\r\n          },\r\n        })\r\n      } else {\r\n        setSpring({\r\n          x: `translateX(${-axes.current.x}px) `,\r\n          y: `translateY(${-axes.current.y}px) `,\r\n        })\r\n      }\r\n    }\r\n  }, [scroll, timeline, setSpring, ready, setReady])\r\n\r\n\r\n  return (\r\n    <Div\r\n      moveX={moveX}\r\n      passRef={ref}\r\n      style={{ ...style, transform: moveX ? spring.x : spring.y }}\r\n      {...props}\r\n    >\r\n      {children}\r\n    </Div>\r\n  )\r\n}\r\n\r\nexport default Scroll\r\n","import React from \"react\"\r\nimport styled from \"styled-components\"\r\nimport Link from \"./link\"\r\nimport { animated } from \"react-spring\"\r\nimport Thumbnail from \"./thumbnail\"\r\nimport Slide from './slide'\r\nimport { romanize } from './utils'\r\nimport Scroll from './scroll'\r\n\r\nconst Img = styled(animated.div)`\r\n  position: relative;\r\n  overflow: hidden;\r\n`\r\n\r\nconst Prev = styled(animated.div)`\r\n  position: relative;\r\n  display: block;\r\n  width: calc(100vw - var(--gutter) * 2);\r\n  height: calc( (100vw - var(--gutter) * 2) * 9 / 16);\r\n  @media (max-width: 768px) {\r\n    height: calc((100 * var(--vh)) - var(--nav-size) - 6vw - 10px - 35px);\r\n  }\r\n`\r\nconst Date = styled.div`\r\n  position: absolute;\r\n  right: -30px;\r\n  width: 20px;\r\n  overflow: hidden;\r\n  bottom: 0;\r\n\r\n  p,\r\n  a {\r\n    display: block;\r\n    writing-mode: vertical-lr;\r\n    /* width: 20px; */\r\n    line-height: 20px;\r\n    font-size: 14px;\r\n    font-variation-settings: \"wght\" 350, \"wdth\" 85, \"slnt\" 0;\r\n    letter-spacing: 2px;\r\n    pointer-events: all;\r\n    margin: 0;\r\n    white-space: nowrap;\r\n    align-self: flex-end;\r\n    text-transform: capitalize;\r\n    text-decoration: none;\r\n    color: inherit;\r\n  }\r\n`\r\n\r\nconst Tag = styled(Date)`\r\n  top: 0;\r\n  bottom: unset;\r\n  p {\r\n    align-self: flex-start;\r\n  }\r\n`\r\nconst Roman = styled(Tag)`\r\n  @media (max-width: 768px) {\r\n    display: none;\r\n  }\r\n  right: unset;\r\n  left: -30px;\r\n  height: 22px;\r\n  width: auto;\r\n  p {\r\n    align-self: flex-end;\r\n    line-height: 22px;\r\n    font-size: 20px;\r\n    font-variation-settings: \"wght\" 1000, \"wdth\" 85, \"slnt\" 0;\r\n    writing-mode: unset;\r\n  }\r\n`\r\n\r\nconst View = styled(Date)`\r\n  left: -30px;\r\n  right: unset;\r\n  @media (max-width: 768px) {\r\n    display: none;\r\n  }\r\n  a {\r\n    font-variation-settings: unset;\r\n    letter-spacing: unset;\r\n    text-transform: uppercase;\r\n  }\r\n`\r\nconst intImg = (x, y) => `translate3d(${x * -0.005}px,${y * -0.005}px,0)`\r\nconst intView = f => `\"wght\" ${f}, \"wdth\" 85, \"slnt\" 0`\r\n\r\nconst Preview = ({ projects, spring, scroll, parallax, hoverIn, hoverOut, hover, hovered, setClip, ...props }) => (\r\n  <Prev {...props}>\r\n    <Date>\r\n      <Slide spring={spring} moveX=\"true\">\r\n        {projects.map((p, i) => (\r\n          <p key={`date${i}`}>{p.date}</p>\r\n        ))}\r\n      </Slide>\r\n    </Date>\r\n    <Tag>\r\n      <Slide spring={spring} moveX=\"true\">\r\n        {projects.map((p, i) => (\r\n          <p key={`tag${i}`}>{p.tags[0]}</p>\r\n        ))}\r\n      </Slide>\r\n    </Tag>\r\n    <Roman>\r\n      <Slide spring={spring}>\r\n        {projects.map((p, i) => (\r\n          <p key={`roman${i}`}>{romanize(i + 1)}</p>\r\n        ))}\r\n      </Slide>\r\n    </Roman>\r\n    <View>\r\n      <Slide\r\n        style={{\r\n          fontVariationSettings: hover\r\n            .interpolate({\r\n              range: [0, 1],\r\n              output: [350, 1000],\r\n            })\r\n            .interpolate(intView),\r\n          letterSpacing: hover\r\n            .interpolate({\r\n              range: [0, 1],\r\n              output: [2, 4],\r\n            })\r\n            .interpolate(f => `${f}px`),\r\n        }}\r\n        spring={spring}\r\n        moveX=\"true\"\r\n      >\r\n        {projects.map((p, i) => (\r\n          <Link\r\n            to={`/${p.slug}`}\r\n            key={`view${i}`}\r\n            onMouseEnter={() => hoverIn(p.slug)}\r\n            onMouseLeave={hoverOut}\r\n            setClip={setClip}\r\n          >\r\n            {p.prompt}\r\n          </Link>\r\n        ))}\r\n      </Slide>\r\n    </View>\r\n    <Img style={{ transform: parallax.xy.interpolate(intImg) }}>\r\n      <Scroll scroll={scroll}>\r\n        {projects.map((p, i) => {\r\n          const imageData = p.images[0].childImageSharp.fluid\r\n          return (\r\n            <Thumbnail\r\n              onMouseEnter={() => hoverIn(p.slug)}\r\n              onMouseLeave={hoverOut}\r\n              key={`prev${i}`}\r\n              slug={p.slug}\r\n              imageData={imageData}\r\n              parallax={parallax}\r\n              hovered={hovered}\r\n              setClip={setClip}\r\n            />\r\n          )\r\n        })}\r\n      </Scroll>\r\n    </Img>\r\n  </Prev>\r\n)\r\n\r\nexport default Preview\r\n","import React from \"react\"\r\nimport styled from \"styled-components\"\r\nimport Link from \"./link\"\r\nimport { animated } from \"react-spring\"\r\nimport Slide from \"./slide\"\r\n\r\n\r\nconst Title = styled(Slide)`\r\n  height: 1em;\r\n  a {\r\n    text-decoration: none;\r\n    white-space: nowrap;\r\n    text-transform: uppercase;\r\n    min-width: 80vw;\r\n    font-size: 6vw;\r\n    line-height: 1em;\r\n    padding-left: 3vw;\r\n    padding-bottom: 30px;\r\n    margin: 0px;\r\n    color: inherit;\r\n    pointer-events: all;\r\n    opacity: 0.2;\r\n    @media (max-width: 768px) {\r\n      margin-top: calc(var(--nav-size));\r\n    }\r\n    font-weight: bold;\r\n    -webkit-text-stroke: 3px rgba(255,255,255,0.4);\r\n    text-stroke: 3px rgba(255,255,255,0.4);\r\n    paint-order: stroke fill;\r\n  }\r\n`\r\n\r\nconst Mask = styled.div`\r\n  display: flex;\r\n  overflow: hidden;\r\n  position: absolute;\r\n  top: 0px;\r\n  height: calc(100 * var(--vh));\r\n  width: calc(80vw + 24px);\r\n  a {\r\n    /* mix-blend-mode: saturation; */\r\n    opacity: 1;\r\n  }\r\n`\r\nconst Wrap = styled(animated.div)`\r\n  align-self: flex-start;\r\n  /* justify-self: center; */\r\n  position: absolute;\r\n  display: inline-block;\r\n  padding-left: 30px;\r\n  z-index: 5;\r\n  \r\n  @media (max-width: 768px) {\r\n    position: relative;\r\n    margin-bottom: 20px;\r\n    margin-top: 15px;\r\n    \r\n  }\r\n`\r\n\r\nconst Titles = ({ projects, spring, hoverIn, hoverOut, hover, setClip, ...props }) => {\r\n  let style = {\r\n    fontVariationSettings: hover\r\n      .interpolate({\r\n        range: [0, 1],\r\n        output: [1200, 680],\r\n      })\r\n      .interpolate(h => `\"wght\" ${h}, \"wdth\" 85, \"slnt\" 0`),\r\n    letterSpacing: hover\r\n      .interpolate({\r\n        range: [0, 1],\r\n        output: [1, 0.7],\r\n      })\r\n      .interpolate(h => `${h}vw`),\r\n  }\r\n\r\n  return (\r\n    <Wrap {...props}>\r\n      <Title style={style} spring={spring} moveX=\"true\" doesSkew=\"true\">\r\n        {projects.map((p, i) => (\r\n          <a key={`hidden${i}`} href={`#${p.slug}`}>\r\n            {p.title}\r\n          </a>\r\n        ))}\r\n      </Title>\r\n      <Mask>\r\n        <Title style={style} spring={spring} moveX=\"true\" doesSkew=\"true\">\r\n          {projects.map((p, i) => (\r\n            <Link\r\n              to={`/${p.slug}`}\r\n              key={`title${i}`}\r\n              onMouseEnter={() => hoverIn(p.slug)}\r\n              onMouseLeave={hoverOut}\r\n              setClip={setClip}\r\n            >\r\n              {p.title}\r\n            </Link>\r\n          ))}\r\n        </Title>\r\n      </Mask>\r\n    </Wrap>\r\n  )\r\n}\r\n\r\nexport default Titles","import React, { useRef, useLayoutEffect, useState, useEffect } from \"react\"\r\nimport styled from \"styled-components\"\r\nimport Preview from \"./preview\"\r\nimport Titles from \"./titles\"\r\nimport { useSpring } from \"react-spring\"\r\nimport anime from \"animejs\"\r\nimport { easeCubicOut } from 'd3-ease'\r\n\r\nconst Abs = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  position: absolute;\r\n`\r\n\r\nconst Wrap = styled.div`\r\n  position: -webkit-sticky;\r\n  position: sticky;\r\n  display: flex;\r\n  flex-direction: column;\r\n  top: 0;\r\n  left: 0;\r\n  overflow: hidden;\r\n  align-items: center;\r\n  @media (min-width: 768px) {\r\n    justify-content: center;\r\n  }\r\n  height: calc(100 * var(--vh));\r\n  width: 100vw;\r\n  pointer-events: none;\r\n  z-index: 100;\r\n`\r\n\r\nconst intPrev = (x, y) => `translate3d(${x * 0.055}px,${y * 0.055}px,0)`\r\nconst intTitle = (x, y) => `translate3d(${x * 0.085}px,${y * 0.085}px,0)`\r\n\r\nconst Folio = ({ projects, scroll, parallax, setClip }) => {\r\n  const [hovered, set] = useState(null)\r\n  const [ready, setReady] = useState(false)\r\n\r\n  const [props, setProps] = useSpring(() => ({\r\n    factor: 0,\r\n    config: { mass: 20, tension: 300, friction: 140 },\r\n  }))\r\n\r\n  const axes = useRef({ transform: 0, skew: 0 })\r\n\r\n  const [timeline, setTimeline] = useState()\r\n\r\n  const [spring, setSpring] = useSpring(() => ({\r\n    transform: -axes.current.transform,\r\n    skew: axes.current.skew,\r\n  }))\r\n\r\n  useLayoutEffect(() => {\r\n    const tl = anime.timeline({\r\n      targets: axes.current,\r\n      easing: \"easeInOutQuint\",\r\n      autoplay: false,\r\n    })\r\n\r\n    projects.forEach((p, i) => {\r\n      const duration = i < 1 ? 0.001 : 1\r\n      const trans = (100 / projects.length) * i\r\n      tl.add({ transform: i < 1 ? [trans, trans] : trans, duration: duration })\r\n    })\r\n    setTimeline(tl)\r\n  }, [projects])\r\n\r\n  const hoverIn = slug => {\r\n    set(slug)\r\n    setProps({ factor: 1 })\r\n  }\r\n  const hoverOut = () => {\r\n    set(null)\r\n    setProps({ factor: 0 })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (timeline) {\r\n      timeline.seek(timeline.duration * scroll.top)\r\n      if (!ready && scroll.render) {\r\n        setSpring({\r\n          transform: -axes.current.transform,\r\n          immediate: true,\r\n          onRest: () => {\r\n            setSpring({ immediate: false, onRest: undefined })\r\n            setReady(true)\r\n          },\r\n        })\r\n      } else {\r\n        timeline.seek(timeline.duration * scroll.top)\r\n        let absSkew = easeCubicOut(Math.abs(scroll.speed)) * 50\r\n        let skew = scroll.speed > 0 ? absSkew : -absSkew\r\n        setSpring({\r\n          transform: -axes.current.transform,\r\n          skew: skew,\r\n        })\r\n      }\r\n    }\r\n  }, [scroll, timeline, setSpring, ready, setReady])\r\n\r\n  return (\r\n    <Abs>\r\n      <Wrap>\r\n        <Titles\r\n          hoverIn={hoverIn}\r\n          hoverOut={hoverOut}\r\n          style={{ transform: parallax.xy.interpolate(intTitle) }}\r\n          projects={projects}\r\n          spring={spring}\r\n          hover={props.factor}\r\n          setClip={setClip}\r\n        />\r\n        <Preview\r\n          hoverIn={hoverIn}\r\n          hoverOut={hoverOut}\r\n          style={{ transform: parallax.xy.interpolate(intPrev) }}\r\n          projects={projects}\r\n          spring={spring}\r\n          scroll={scroll}\r\n          hover={props.factor}\r\n          hovered={hovered}\r\n          parallax={parallax}\r\n          setClip={setClip}\r\n        />\r\n      </Wrap>\r\n    </Abs>\r\n  )\r\n}\r\n\r\nexport default Folio\r\n","export function cubicIn(t) {\n  return t * t * t;\n}\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}","import React, { useState} from \"react\"\r\nimport { graphql, useStaticQuery } from \"gatsby\"\r\nimport * as Mouse from '../components/mouse'\r\n\r\nimport Layout from \"../components/layout\"\r\nimport Folio from \"../components/folio\"\r\nimport Header from \"../components/header\"\r\nimport Bookmarks from \"../components/bookmarks\"\r\n\r\nimport styled from \"styled-components\"\r\nimport { useSpring } from \"react-spring\"\r\n\r\nconst Dummy = styled.div`\r\n  height:  calc(100 * var(--vh));\r\n  width: 100vw;\r\n`\r\n\r\nconst IndexPage = ({location : {state}, location}) => {\r\n  const data = useStaticQuery(graphql`\r\n    {\r\n      allProjectsJson {\r\n        edges {\r\n          node {\r\n            title\r\n            slug\r\n            date\r\n            tags\r\n            prompt\r\n            images {\r\n              childImageSharp {\r\n                fluid(maxWidth: 1920) {\r\n                  ...GatsbyImageSharpFluid_withWebp_noBase64\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  `)\r\n\r\n  const projects = data.allProjectsJson.edges.map(p => p.node)\r\n  const [scroll, setScroll] = useState({top: 0, speed: 0, render : location.hash ? false : true})\r\n  const [parallax, setParallax] = useSpring(() => ({\r\n    xy: [0, 0],\r\n    config: { mass: 10, tension: 550, friction: 140 },\r\n  }))\r\n  \r\n  const [clip, setClip] = useSpring( () => ({trim: Mouse.calc( state?.linked ? Mouse.pos.r : 0), mask: Mouse.calc(Mouse.pos.r)}))\r\n\r\n  return (\r\n      <Layout title=\"Alex Bannwarth - 3D Artist & Creative Director\" clip={clip} setClip={setClip} setScroll={setScroll} setParallax={setParallax}>\r\n        <Header setClip={setClip} to=\"/about\" top={projects[0].slug} parallax={parallax}>\r\n          <Bookmarks scroll={scroll} projects={projects} setClip={setClip}/>\r\n        </Header>\r\n        <Folio\r\n          scroll={scroll}\r\n          projects={projects}\r\n          parallax={parallax}\r\n          setClip={setClip}\r\n        />\r\n        {projects.map( p => {\r\n          return <Dummy key={p.slug} id={p.slug} />\r\n        })}\r\n      </Layout>\r\n  )\r\n}\r\n\r\nexport default IndexPage\r\n"],"sourceRoot":""}